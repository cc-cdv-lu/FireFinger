<div class="container" [ngClass]="style.theme">
  <!--<mat-toolbar>
    <span class="fill-remaining-space"></span>
    <h3>Settings</h3>
    <span class="fill-remaining-space"></span>
  </mat-toolbar>-->


  <mat-accordion>

    <mat-expansion-panel>
      <mat-expansion-panel-header [collapsedHeight]="'5rem'" [expandedHeight]="'5rem'">
        <mat-panel-title>
          {{'settings.style.title' | translate}}
        </mat-panel-title>
        <!--
        <mat-panel-description  [style.font-size]="style.getFontSize(SIZE.SMALLER)" [style.color]="style.activeColorScheme.prev">
          {{'settings.style.description' | translate}}
        </mat-panel-description>
      -->
      </mat-expansion-panel-header>

      <section class="section">
        <mat-grid-list cols=4 rowHeight="4rem">
          <mat-grid-tile *ngFor="let theme of style.themes">
            <button mat-raised-button color="primary" (click)="changeTheme(theme.id)">{{theme.name}}</button>
          </mat-grid-tile>
        </mat-grid-list>
        <div class="preview">
          <p [ngClass]="style.theme">Pre<span class="highlight">vi</span>ew</p>
        </div>
      </section>

      <section class="section">
        <h4>{{'settings.style.errorwarning' | translate}}</h4>
        <mat-slide-toggle [(ngModel)]="this.style.warning_flash">{{'settings.style.errorwarning' | translate}}</mat-slide-toggle>
      </section>

      <section class="section">
        <h4>{{'settings.style.fontsize' | translate}}</h4>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="style.font" min="1" max="100" step="1"></mat-slider>
      </section>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header [collapsedHeight]="'5rem'" [expandedHeight]="'5rem'">
        <mat-panel-title>
          {{'settings.application.title' | translate}}
        </mat-panel-title>
        <!--
        <mat-panel-description  [style.font-size]="style.getFontSize(SIZE.SMALLER)" [style.color]="style.activeColorScheme.prev">
          {{'settings.application.description' | translate}}
        </mat-panel-description>
      -->
      </mat-expansion-panel-header>


      <section class="section">
        <h4>{{'settings.application.files.title' | translate}}</h4>
        <p>{{'settings.application.files.description' | translate}}</p>
        <button mat-raised-button color="primary" (click)="lessons.openDocsFolderInExplorer()">{{'settings.application.files.button' | translate}}</button>
      </section>

      <section class="section">
        <h4>{{'settings.application.lang.title' | translate}}</h4>
        <p>{{'settings.application.lang.description' | translate}}</p>

        <mat-form-field>
          <mat-select placeholder="Language" [(value)]="lang" (selectionChange)="onLangChange()">
            <mat-option *ngFor="let l of langs" [value]="l.id">
              {{ l.description }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </section>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header [collapsedHeight]="'5rem'" [expandedHeight]="'5rem'">
        <mat-panel-title>
          {{'settings.voice.title' | translate}}
        </mat-panel-title>
        <!--
        <mat-panel-description  [style.font-size]="style.getFontSize(SIZE.SMALLER)" [style.color]="style.activeColorScheme.prev">
          {{'settings.voice.description' | translate}}
        </mat-panel-description>
      -->
      </mat-expansion-panel-header>


      <section class="section">

        <button mat-raised-button color="primary" (click)="reader.save()">{{'settings.voice.control.save' | translate}}</button>
        <h4>{{'settings.voice.control.title' | translate}}</h4>
        <mat-form-field>
          <input matInput placeholder="Enter test phrase" [(ngModel)]="reader.config.test" [ngModelOptions]="{standalone: true}">
          <button mat-raised-button color="primary" (click)="readTest()">{{'settings.voice.control.test' | translate}}</button>
        </mat-form-field>




        <h4>{{'settings.voice.variant' | translate}}</h4>
        <mat-form-field>
          <mat-select placeholder="Speaking voice" [(value)]="reader.config.options.variant">
            <mat-option *ngFor="let variant of reader.variants" [value]="variant.id">
              {{ variant.description }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select placeholder="Speaking language" [(value)]="reader.config.voice" (selectionChange)="onVoiceChange()">
            <mat-option *ngFor="let voice of reader.voices" [value]="voice.url">
              {{ voice.description }}
            </mat-option>
          </mat-select>
        </mat-form-field>

      <mat-divider></mat-divider>


        <h5>{{'settings.voice.other.amplitude.title' | translate}}</h5>
        <p>{{'settings.voice.other.amplitude.description' | translate}}</p>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="reader.config.options.amplitude" min="50" max="200" step="1"></mat-slider>

        <h5>{{'settings.voice.other.pitch.title' | translate}}</h5>
        <p>{{'settings.voice.other.pitch.description' | translate}}</p>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="reader.config.options.pitch" min="50" max="200" step="1"></mat-slider>

        <h5>{{'settings.voice.other.speed.title' | translate}}</h5>
        <p>{{'settings.voice.other.speed.description' | translate}}</p>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="reader.config.options.speed" min="50" max="400" step="1"></mat-slider>

        <h5>{{'settings.voice.other.volume.title' | translate}}</h5>
        <p>{{'settings.voice.other.volume.description' | translate}}</p>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="reader.config.options.volume" min="0" max="1" step="0.1"></mat-slider>

        <h5>{{'settings.voice.other.capitals.title' | translate}}</h5>
        <p innerHTML="{{'settings.voice.other.capitals.description' | translate}}"></p>
        <mat-slider thumbLabel tickInterval="1" [(ngModel)]="reader.config.options.capitals" min="0" max="30" step="1"></mat-slider>


      </section>
    </mat-expansion-panel>


  </mat-accordion>
</div>
